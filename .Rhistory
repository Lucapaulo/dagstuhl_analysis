title = "# of Participants and Carbon footprint in Dagstuhl Seminars") +
geom_smooth(data=z %>% group_by(start_date) %>% summarise(co2=sum(co2)),
aes(x = start_date, y = co2, group=1),
method = "lm", se= FALSE, color = "red3", size = 1) +
geom_smooth(data=z %>% group_by(start_date) %>% summarise(participants=sum(participants)),
aes(x = start_date, y = participants, group=1),
method = "lm", se= FALSE, color = "dodgerblue3", size = 1) +
theme(legend.position = c(0.7, 0.9))
ggplot(z, aes(x=start_date)) +
geom_line(aes(y = participants, group = 1, colour = "Participants")) +
geom_line(aes(y = co2, group = 1, colour = "CO²")) +
scale_y_continuous(expand = c(0.01,0.01), sec.axis = sec_axis(~.*1, name = "Tons of CO²")) +
scale_colour_manual(values = c("red", "dodgerblue")) +
labs(x = "Year",
y = "# of Participants",
colour = "Legend",
title = "# of Participants and Carbon footprint in Dagstuhl Seminars") +
geom_smooth(data=z %>% group_by(start_date) %>% summarise(co2=sum(co2)),
aes(x = start_date, y = co2, group=1),
method = "lm", se= FALSE, color = "red3", size = 1) +
geom_smooth(data=z %>% group_by(start_date) %>% summarise(participants=sum(participants)),
aes(x = start_date, y = participants, group=1),
method = "lm", se= FALSE, color = "dodgerblue3", size = 1) +
theme(legend.position = c(0.9, 0.9))
y[, seminar_id := paste("seminar", formatC(seminar_id, width=5, flag="0"), sep=" ")]
# co2 tons per seminar
y <- merge(participants_dt[, c("seminar_id", "country")], co2_dt, all.x=TRUE)
y$country <- NULL
y <- y[, .(co2=sum(tons)), by=seminar_id]
y <- merge(y, seminars_dt[, c("seminar_id", "start_date")], by.x="seminar_id", by.y="seminar_id")
y[, seminar_id := paste("seminar", formatC(seminar_id, width=5, flag="0"), sep=" ")]
# chronological
ggplot(y, aes(start_date, co2)) +
geom_bar(aes(colour = co2), stat = "identity", show.legend = FALSE) +
labs(title = "Tons of CO² per Dagstuhl Seminar from 2001 to 2019",
x = "Year",
y = "Tons of CO²") +
scale_colour_gradient(low = "black", high = "grey") +
geom_smooth(data=y %>% group_by(start_date) %>% summarise(co2=sum(co2)),
aes(x = start_date, y = co2, group=1),
method = "lm", se= FALSE, color = "firebrick1", size = 1) +
scale_y_continuous(expand = c(0.01,0.01))
# chronological
ggplot(y, aes(start_date, co2)) +
geom_bar(aes(colour = co2), stat = "identity", show.legend = FALSE) +
labs(title = "Tons of CO² per Dagstuhl Seminar from 2001 to 2019",
x = "Year",
y = "Tons of CO²") +
scale_colour_gradient(low = "white", high = "black") +
geom_smooth(data=y %>% group_by(start_date) %>% summarise(co2=sum(co2)),
aes(x = start_date, y = co2, group=1),
method = "lm", se= FALSE, color = "firebrick1", size = 1) +
scale_y_continuous(expand = c(0.01,0.01))
ggplot(z, aes(x=start_date)) +
geom_line(aes(y = participants, group = 1, colour = "Participants")) +
geom_line(aes(y = co2, group = 1, colour = "CO²")) +
scale_y_continuous(expand = c(0.01,0.01), sec.axis = sec_axis(~.*1, name = "Tons of CO²")) +
scale_colour_manual(values = c("red", "dodgerblue")) +
labs(x = "Year",
y = "# of Participants",
colour = "Legend",
title = "# of Participants and Carbon footprint in Dagstuhl Seminars") +
geom_smooth(data=z %>% group_by(start_date) %>% summarise(co2=sum(co2)),
aes(x = start_date, y = co2, group=1),
method = "lm", se= FALSE, color = "red3", size = 1) +
geom_smooth(data=z %>% group_by(start_date) %>% summarise(participants=sum(participants)),
aes(x = start_date, y = participants, group=1),
method = "lm", se= FALSE, color = "dodgerblue3", size = 1) +
theme(legend.position = c(0.9, 0.9))
# chronological
ggplot(x, aes(start_date, participants)) +
geom_bar(aes(colour = participants), stat = "identity", show.legend = FALSE) +
labs(title = "# of Participants in Dagstuhl Seminars from 2001 to 2019",
x = "Year",
y = "# of Participants") +
scale_colour_gradient(low = "white", high = "black") +
geom_smooth(data=x %>% group_by(start_date) %>% summarise(participants=sum(participants)),
aes(x = start_date, y = participants, group=1),
method = "lm", se= FALSE, color = "firebrick1", size = 1) +
scale_y_continuous(expand = c(0.01,0.01))
ggplot(z, aes(x=start_date)) +
geom_line(aes(y = participants, group = 1, colour = "Participants")) +
geom_line(aes(y = co2, group = 1, colour = "CO²")) +
scale_y_continuous(expand = c(0.01,0.01), sec.axis = sec_axis(~.*1, name = "Tons of CO²")) +
scale_colour_manual(values = c("red", "dodgerblue")) +
labs(x = "Year",
y = "# of Participants",
colour = "Legend",
title = "# of Participants and Carbon footprint in Dagstuhl Seminars") +
geom_smooth(data=z %>% group_by(start_date) %>% summarise(co2=sum(co2)),
aes(x = start_date, y = co2, group=1),
method = "lm", se= FALSE, color = "red3", size = 1) +
geom_smooth(data=z %>% group_by(start_date) %>% summarise(participants=sum(participants)),
aes(x = start_date, y = participants, group=1),
method = "lm", se= FALSE, color = "dodgerblue3", size = 1) +
theme(legend.position = c(0.9, 0.9))
# chronological
ggplot(x, aes(start_date, participants)) +
geom_bar(aes(colour = participants), stat = "identity", show.legend = FALSE) +
labs(title = "# of Participants in Dagstuhl Seminars from 2001 to 2019",
x = "Year",
y = "# of Participants") +
scale_colour_gradient(low = "white", high = "black") +
geom_smooth(data=x %>% group_by(start_date) %>% summarise(participants=sum(participants)),
aes(x = start_date, y = participants, group=1),
method = "lm", se= FALSE, color = "firebrick1", size = 1) +
scale_y_continuous(expand = c(0.01,0.01))
ggplot(z, aes(x=start_date)) +
geom_bar(aes(y = participants, colour = "Participants")) +
geom_bar(aes(y = co2, colour = "CO²")) +
scale_y_continuous(expand = c(0.01,0.01), sec.axis = sec_axis(~.*1, name = "Tons of CO²")) +
scale_colour_manual(values = c("red", "dodgerblue")) +
labs(x = "Year",
y = "# of Participants",
colour = "Legend",
title = "# of Participants and Carbon footprint in Dagstuhl Seminars") +
geom_smooth(data=z %>% group_by(start_date) %>% summarise(co2=sum(co2)),
aes(x = start_date, y = co2, group=1),
method = "lm", se= FALSE, color = "red3", size = 1) +
geom_smooth(data=z %>% group_by(start_date) %>% summarise(participants=sum(participants)),
aes(x = start_date, y = participants, group=1),
method = "lm", se= FALSE, color = "dodgerblue3", size = 1) +
theme(legend.position = c(0.9, 0.9))
ggplot(z, aes(x=start_date)) +
geom_bar(aes(y = participants, colour = "Participants"), stat = "identity") +
geom_bar(aes(y = co2, colour = "CO²"), stat = "identity") +
scale_y_continuous(expand = c(0.01,0.01), sec.axis = sec_axis(~.*1, name = "Tons of CO²")) +
scale_colour_manual(values = c("red", "dodgerblue")) +
labs(x = "Year",
y = "# of Participants",
colour = "Legend",
title = "# of Participants and Carbon footprint in Dagstuhl Seminars") +
geom_smooth(data=z %>% group_by(start_date) %>% summarise(co2=sum(co2)),
aes(x = start_date, y = co2, group=1),
method = "lm", se= FALSE, color = "red3", size = 1) +
geom_smooth(data=z %>% group_by(start_date) %>% summarise(participants=sum(participants)),
aes(x = start_date, y = participants, group=1),
method = "lm", se= FALSE, color = "dodgerblue3", size = 1) +
theme(legend.position = c(0.9, 0.9))
ggplot(z, aes(x=start_date)) +
geom_point(aes(y = participants, colour = "Participants"), stat = "identity") +
geom_point(aes(y = co2, colour = "CO²"), stat = "identity") +
scale_y_continuous(expand = c(0.01,0.01), sec.axis = sec_axis(~.*1, name = "Tons of CO²")) +
scale_colour_manual(values = c("red", "dodgerblue")) +
labs(x = "Year",
y = "# of Participants",
colour = "Legend",
title = "# of Participants and Carbon footprint in Dagstuhl Seminars") +
geom_smooth(data=z %>% group_by(start_date) %>% summarise(co2=sum(co2)),
aes(x = start_date, y = co2, group=1),
method = "lm", se= FALSE, color = "red3", size = 1) +
geom_smooth(data=z %>% group_by(start_date) %>% summarise(participants=sum(participants)),
aes(x = start_date, y = participants, group=1),
method = "lm", se= FALSE, color = "dodgerblue3", size = 1) +
theme(legend.position = c(0.9, 0.9))
ggplot(z, aes(x=start_date)) +
geom_point(aes(y = participants, colour = "Participants"), stat = "identity") +
geom_point(aes(y = co2, colour = "CO²"), stat = "identity") +
scale_y_continuous(expand = c(0.01,0.01), sec.axis = sec_axis(~.*.5, name = "Tons of CO²")) +
scale_colour_manual(values = c("red", "dodgerblue")) +
labs(x = "Year",
y = "# of Participants",
colour = "Legend",
title = "# of Participants and Carbon footprint in Dagstuhl Seminars") +
geom_smooth(data=z %>% group_by(start_date) %>% summarise(co2=sum(co2)),
aes(x = start_date, y = co2, group=1),
method = "lm", se= FALSE, color = "red3", size = 1) +
geom_smooth(data=z %>% group_by(start_date) %>% summarise(participants=sum(participants)),
aes(x = start_date, y = participants, group=1),
method = "lm", se= FALSE, color = "dodgerblue3", size = 1) +
theme(legend.position = c(0.9, 0.9))
ggplot(z, aes(x=start_date)) +
geom_point(aes(y = participants, colour = "Participants"), stat = "identity") +
geom_point(aes(y = co2/2, colour = "CO²"), stat = "identity") +
scale_y_continuous(expand = c(0.01,0.01), sec.axis = sec_axis(~.*2, name = "Tons of CO²")) +
scale_colour_manual(values = c("red", "dodgerblue")) +
labs(x = "Year",
y = "# of Participants",
colour = "Legend",
title = "# of Participants and Carbon footprint in Dagstuhl Seminars") +
geom_smooth(data=z %>% group_by(start_date) %>% summarise(co2=sum(co2)),
aes(x = start_date, y = co2, group=1),
method = "lm", se= FALSE, color = "red3", size = 1) +
geom_smooth(data=z %>% group_by(start_date) %>% summarise(participants=sum(participants)),
aes(x = start_date, y = participants, group=1),
method = "lm", se= FALSE, color = "dodgerblue3", size = 1) +
theme(legend.position = c(0.9, 0.9))
ggplot(z, aes(x=start_date)) +
geom_point(aes(y = participants, colour = "Participants"), stat = "identity") +
geom_point(aes(y = co2, colour = "CO²"), stat = "identity") +
scale_y_continuous(expand = c(0.01,0.01), sec.axis = sec_axis(~.*1, name = "Tons of CO²")) +
scale_colour_manual(values = c("red", "dodgerblue")) +
labs(x = "Year",
y = "# of Participants",
colour = "Legend",
title = "# of Participants and Carbon footprint in Dagstuhl Seminars") +
geom_smooth(data=z %>% group_by(start_date) %>% summarise(co2=sum(co2)),
aes(x = start_date, y = co2, group=1),
method = "lm", se= FALSE, color = "red3", size = 1) +
geom_smooth(data=z %>% group_by(start_date) %>% summarise(participants=sum(participants)),
aes(x = start_date, y = participants, group=1),
method = "lm", se= FALSE, color = "dodgerblue3", size = 1) +
theme(legend.position = c(0.9, 0.9))
# chronological
ggplot(x, aes(start_date, participants)) +
geom_bar(aes(colour = participants), stat = "identity", show.legend = FALSE) +
labs(title = "# of Participants in Dagstuhl Seminars from 2001 to 2019",
x = "Year",
y = "# of Participants") +
scale_colour_gradient(low = "white", high = "black") +
geom_smooth(data=x %>% group_by(start_date) %>% summarise(participants=sum(participants)),
aes(x = start_date, y = participants, group=1),
method = "lm", se= FALSE, color = "firebrick1", size = 1) +
scale_y_continuous(expand = c(0.01,0.01))
# chronological
ggplot(x, aes(start_date, participants)) +
geom_point(aes(colour = participants), stat = "identity", show.legend = FALSE) +
labs(title = "# of Participants in Dagstuhl Seminars from 2001 to 2019",
x = "Year",
y = "# of Participants") +
scale_colour_gradient(low = "white", high = "black") +
geom_smooth(data=x %>% group_by(start_date) %>% summarise(participants=sum(participants)),
aes(x = start_date, y = participants, group=1),
method = "lm", se= FALSE, color = "firebrick1", size = 1) +
scale_y_continuous(expand = c(0.01,0.01))
bar
# chronological
ggplot(x, aes(start_date, participants)) +
geom_bar(aes(colour = participants), stat = "identity", show.legend = FALSE) +
labs(title = "# of Participants in Dagstuhl Seminars from 2001 to 2019",
x = "Year",
y = "# of Participants") +
scale_colour_gradient(low = "white", high = "black") +
geom_smooth(data=x %>% group_by(start_date) %>% summarise(participants=sum(participants)),
aes(x = start_date, y = participants, group=1),
method = "lm", se= FALSE, color = "firebrick1", size = 1) +
scale_y_continuous(expand = c(0.01,0.01))
# chronological
ggplot(x, aes(start_date, participants)) +
geom_point(aes(colour = participants), stat = "identity", show.legend = FALSE) +
labs(title = "# of Participants in Dagstuhl Seminars from 2001 to 2019",
x = "Year",
y = "# of Participants") +
scale_colour_gradient(low = "white", high = "black") +
geom_smooth(data=x %>% group_by(start_date) %>% summarise(participants=sum(participants)),
aes(x = start_date, y = participants, group=1),
method = "lm", se= FALSE, color = "firebrick1", size = 1) +
scale_y_continuous(expand = c(0.01,0.01))
duplicated(seminars_dt["start_date"])
duplicated(seminars_dt[start_date])
duplicated(seminars_dt[,start_date])
seminars_dt[, xx := start_date + days(1)]
seminars_dt[, xx := start_date + days(1), by = start_date]
seminars_dt$xx <- NULL
seminars_dt.rle <- rle(seminars_dt$start_date)
seminars_dt[ , "x" := lapply(.SD, "+", seconds(1)), .SDcols = "start_date"]
?add
seminars_dt[ , "x" := lapply(.SD, "+", seconds(seminar_id)), .SDcols = "start_date"]
?lapply
seminars_dt[ , "x" := lapply(.SD, "+", days(seminar_id)), .SDcols = "start_date"]
library(xts)
seminars_dt$x <- make.index.unique(seminars_dt$start_date, 1)
install.packages("xts")
library(xts)
seminars_dt$x <- make.index.unique(seminars_dt$start_date, 1)
seminars_dt[ , "start_date_2" := lapply(.SD, as.POSIXct), .SDcols = "start_date"]
seminars_dt$x <- make.index.unique(seminars_dt$start_date_2, 1)
seminars_dt[ , "start_date" := lapply(.SD, as.POSIXct), .SDcols = "start_date"]
seminars_dt$start_date <- make.index.unique(seminars_dt$start_date_2, 1)
seminars_dt$x <- NULL
seminars_dt$start_date_2 <- NULL
# chronological
ggplot(x, aes(start_date, participants)) +
geom_point(aes(colour = participants), stat = "identity", show.legend = FALSE) +
labs(title = "# of Participants in Dagstuhl Seminars from 2001 to 2019",
x = "Year",
y = "# of Participants") +
scale_colour_gradient(low = "white", high = "black") +
geom_smooth(data=x %>% group_by(start_date) %>% summarise(participants=sum(participants)),
aes(x = start_date, y = participants, group=1),
method = "lm", se= FALSE, color = "firebrick1", size = 1) +
scale_y_continuous(expand = c(0.01,0.01))
# chronological
ggplot(x, aes(start_date, participants)) +
geom_bar(aes(colour = participants), stat = "identity", show.legend = FALSE) +
labs(title = "# of Participants in Dagstuhl Seminars from 2001 to 2019",
x = "Year",
y = "# of Participants") +
scale_colour_gradient(low = "white", high = "black") +
geom_smooth(data=x %>% group_by(start_date) %>% summarise(participants=sum(participants)),
aes(x = start_date, y = participants, group=1),
method = "lm", se= FALSE, color = "firebrick1", size = 1) +
scale_y_continuous(expand = c(0.01,0.01))
# participants per seminar
x <- participants_dt[, nrow(.SD), by=seminar_id]
setnames(x, "V1", "participants")
x <- merge(x, seminars_dt[, c("seminar_id", "start_date")], all.x = TRUE)
x[, seminar_id := paste("seminar", formatC(seminar_id, width=5, flag="0"), sep=" ")]
# chronological
ggplot(x, aes(start_date, participants)) +
geom_bar(aes(colour = participants), stat = "identity", show.legend = FALSE) +
labs(title = "# of Participants in Dagstuhl Seminars from 2001 to 2019",
x = "Year",
y = "# of Participants") +
scale_colour_gradient(low = "white", high = "black") +
geom_smooth(data=x %>% group_by(start_date) %>% summarise(participants=sum(participants)),
aes(x = start_date, y = participants, group=1),
method = "lm", se= FALSE, color = "firebrick1", size = 1) +
scale_y_continuous(expand = c(0.01,0.01))
seminars_dt <- as.data.table(seminars)
# correct dates on seminars_dt
seminars_dt[ , "date" := lapply(.SD, gsub, pattern = "^(\\S*\\s+\\S+).*", replacement = "\\1"), .SDcols = "date"]
seminars_dt <- unite(seminars_dt, col = start_date, date, year, sep = " ")
seminars_dt[ , "start_date" := lapply(.SD, mdy), .SDcols = "start_date"]
seminars_dt[ , "start_date" := lapply(.SD, as.POSIXct), .SDcols = "start_date"]
seminars_dt$start_date_2 <- make.index.unique(seminars_dt$start_date_2, eps = 1, drop = FALSE)
seminars_dt[ , "test" := 0]
seminars_dt$test <- make.index.unique(seminars_dt$start_date_2, eps = 1, drop = FALSE)
seminars_dt$test <- make.index.unique(seminars_dt$start_date, eps = 1, drop = FALSE)
seminars_dt["seminar_id" == 10519]
seminars_dt[,"seminar_id" == 10519]
seminars_dt[seminar_id == 10519]
seminars_dt[seminar_id == 10519]$start_date
?as.POSIXct.Date
seminars_dt[seminar_id == 10519]$start_date <- as.POSIXct.Date("2011-01-05 01:00:00")
seminars_dt[seminar_id == 10519]$start_date <- as.POSIXct.Date("2011-01-05 01:00")
seminars_dt[seminar_id == 10519]$start_date <- seminars_dt[seminar_id == 10519]$start_date - 284012568
seminars_dt <- as.data.table(seminars)
# correct dates on seminars_dt
seminars_dt[ , "date" := lapply(.SD, gsub, pattern = "^(\\S*\\s+\\S+).*", replacement = "\\1"), .SDcols = "date"]
seminars_dt <- unite(seminars_dt, col = start_date, date, year, sep = " ")
seminars_dt[ , "start_date" := lapply(.SD, mdy), .SDcols = "start_date"]
seminars_dt[ , "start_date" := lapply(.SD, as.POSIXct), .SDcols = "start_date"]
seminars_dt[seminar_id == 10519]$start_date <- seminars_dt[seminar_id == 10519]$start_date - 284022568
seminars_dt$test <- make.index.unique(seminars_dt$start_date, eps = 1, drop = FALSE)
# participants per seminar
x <- participants_dt[, nrow(.SD), by=seminar_id]
setnames(x, "V1", "participants")
x <- merge(x, seminars_dt[, c("seminar_id", "start_date")], all.x = TRUE)
x[, seminar_id := paste("seminar", formatC(seminar_id, width=5, flag="0"), sep=" ")]
# chronological
ggplot(x, aes(start_date, participants)) +
geom_bar(aes(colour = participants), stat = "identity", show.legend = FALSE) +
labs(title = "# of Participants in Dagstuhl Seminars from 2001 to 2019",
x = "Year",
y = "# of Participants") +
scale_colour_gradient(low = "white", high = "black") +
geom_smooth(data=x %>% group_by(start_date) %>% summarise(participants=sum(participants)),
aes(x = start_date, y = participants, group=1),
method = "lm", se= FALSE, color = "firebrick1", size = 1) +
scale_y_continuous(expand = c(0.01,0.01))
seminars_dt$start_date <- make.index.unique(seminars_dt$start_date, eps = 1, drop = FALSE)
# participants per seminar
x <- participants_dt[, nrow(.SD), by=seminar_id]
setnames(x, "V1", "participants")
x <- merge(x, seminars_dt[, c("seminar_id", "start_date")], all.x = TRUE)
x[, seminar_id := paste("seminar", formatC(seminar_id, width=5, flag="0"), sep=" ")]
# chronological
ggplot(x, aes(start_date, participants)) +
geom_bar(aes(colour = participants), stat = "identity", show.legend = FALSE) +
labs(title = "# of Participants in Dagstuhl Seminars from 2001 to 2019",
x = "Year",
y = "# of Participants") +
scale_colour_gradient(low = "white", high = "black") +
geom_smooth(data=x %>% group_by(start_date) %>% summarise(participants=sum(participants)),
aes(x = start_date, y = participants, group=1),
method = "lm", se= FALSE, color = "firebrick1", size = 1) +
scale_y_continuous(expand = c(0.01,0.01))
seminars_dt[seminar_id == 10519]$start_date <- NULL
seminars_dt <- as.data.table(seminars)
# correct dates on seminars_dt
seminars_dt[ , "date" := lapply(.SD, gsub, pattern = "^(\\S*\\s+\\S+).*", replacement = "\\1"), .SDcols = "date"]
seminars_dt <- unite(seminars_dt, col = start_date, date, year, sep = " ")
seminars_dt[ , "start_date" := lapply(.SD, mdy), .SDcols = "start_date"]
seminars_dt[ , "start_date" := lapply(.SD, as.POSIXct), .SDcols = "start_date"]
seminars_dt[seminar_id == 10519]$start_date <- seminars_dt[seminar_id == 10519]$start_date - 284052568
seminars_dt <- as.data.table(seminars)
# correct dates on seminars_dt
seminars_dt[ , "date" := lapply(.SD, gsub, pattern = "^(\\S*\\s+\\S+).*", replacement = "\\1"), .SDcols = "date"]
seminars_dt <- unite(seminars_dt, col = start_date, date, year, sep = " ")
seminars_dt[ , "start_date" := lapply(.SD, mdy), .SDcols = "start_date"]
seminars_dt[ , "start_date" := lapply(.SD, as.POSIXct), .SDcols = "start_date"]
seminars_dt[seminar_id == 10519]$start_date <- seminars_dt[seminar_id == 10519]$start_date - 284152568
seminars_dt <- as.data.table(seminars)
# correct dates on seminars_dt
seminars_dt[ , "date" := lapply(.SD, gsub, pattern = "^(\\S*\\s+\\S+).*", replacement = "\\1"), .SDcols = "date"]
seminars_dt <- unite(seminars_dt, col = start_date, date, year, sep = " ")
seminars_dt[ , "start_date" := lapply(.SD, mdy), .SDcols = "start_date"]
seminars_dt[ , "start_date" := lapply(.SD, as.POSIXct), .SDcols = "start_date"]
seminars_dt[seminar_id == 10519]$start_date <- seminars_dt[seminar_id == 10519]$start_date - 284212568
seminars_dt$start_date <- make.index.unique(seminars_dt$start_date, eps = 1, drop = FALSE)
# participants per seminar
x <- participants_dt[, nrow(.SD), by=seminar_id]
setnames(x, "V1", "participants")
x <- merge(x, seminars_dt[, c("seminar_id", "start_date")], all.x = TRUE)
x[, seminar_id := paste("seminar", formatC(seminar_id, width=5, flag="0"), sep=" ")]
# chronological
ggplot(x, aes(start_date, participants)) +
geom_bar(aes(colour = participants), stat = "identity", show.legend = FALSE) +
labs(title = "# of Participants in Dagstuhl Seminars from 2001 to 2019",
x = "Year",
y = "# of Participants") +
scale_colour_gradient(low = "white", high = "black") +
geom_smooth(data=x %>% group_by(start_date) %>% summarise(participants=sum(participants)),
aes(x = start_date, y = participants, group=1),
method = "lm", se= FALSE, color = "firebrick1", size = 1) +
scale_y_continuous(expand = c(0.01,0.01))
# co2 tons per seminar
y <- merge(participants_dt[, c("seminar_id", "country")], co2_dt, all.x=TRUE)
y$country <- NULL
y <- y[, .(co2=sum(tons)), by=seminar_id]
y <- merge(y, seminars_dt[, c("seminar_id", "start_date")], by.x="seminar_id", by.y="seminar_id")
y[, seminar_id := paste("seminar", formatC(seminar_id, width=5, flag="0"), sep=" ")]
# chronological
ggplot(y, aes(start_date, co2)) +
geom_bar(aes(colour = co2), stat = "identity", show.legend = FALSE) +
labs(title = "Tons of CO² per Dagstuhl Seminar from 2001 to 2019",
x = "Year",
y = "Tons of CO²") +
scale_colour_gradient(low = "white", high = "black") +
geom_smooth(data=y %>% group_by(start_date) %>% summarise(co2=sum(co2)),
aes(x = start_date, y = co2, group=1),
method = "lm", se= FALSE, color = "firebrick1", size = 1) +
scale_y_continuous(expand = c(0.01,0.01))
# mixed
z <- merge(x, y)
ggplot(z, aes(x=start_date)) +
geom_line(aes(y = participants, group = 1, colour = "Participants")) +
geom_line(aes(y = co2, group = 1, colour = "CO²")) +
scale_y_continuous(expand = c(0.01,0.01), sec.axis = sec_axis(~.*1, name = "Tons of CO²")) +
scale_colour_manual(values = c("red", "dodgerblue")) +
labs(x = "Year",
y = "# of Participants",
colour = "Legend",
title = "# of Participants and Carbon footprint in Dagstuhl Seminars") +
geom_smooth(data=z %>% group_by(start_date) %>% summarise(co2=sum(co2)),
aes(x = start_date, y = co2, group=1),
method = "lm", se= FALSE, color = "red3", size = 1) +
geom_smooth(data=z %>% group_by(start_date) %>% summarise(participants=sum(participants)),
aes(x = start_date, y = participants, group=1),
method = "lm", se= FALSE, color = "dodgerblue3", size = 1) +
theme(legend.position = c(0.9, 0.9))
ggplot(z, aes(x=start_date)) +
geom_line(aes(y = participants, group = 1, colour = "Participants")) +
geom_line(aes(y = co2, group = 1, colour = "CO²")) +
scale_y_continuous(expand = c(0.01,0.01), sec.axis = sec_axis(~.*1, name = "Tons of CO²")) +
scale_colour_manual(values = c("red", "dodgerblue")) +
labs(x = "Year",
y = "# of Participants",
colour = "Legend",
title = "# of Participants and Carbon Footprint in Dagstuhl Seminars") +
geom_smooth(data=z %>% group_by(start_date) %>% summarise(co2=sum(co2)),
aes(x = start_date, y = co2, group=1),
method = "lm", se= FALSE, color = "red3", size = 1) +
geom_smooth(data=z %>% group_by(start_date) %>% summarise(participants=sum(participants)),
aes(x = start_date, y = participants, group=1),
method = "lm", se= FALSE, color = "dodgerblue3", size = 1) +
theme(legend.position = c(0.9, 0.9))
# seminars by co2 tons
ggplot(y, aes(reorder(seminar_id, -co2), co2)) +
geom_bar(aes(colour = co2), stat = "identity", show.legend = FALSE) +
theme(axis.text.x=element_blank(),
axis.ticks.x=element_blank()) +
labs(title = "Tons of CO² per Dagstuhl Seminar (Ordered by Quantity)",
x = "Seminar",
y = "Tons of CO²") +
scale_colour_gradient(low = "white", high = "black") +
scale_y_continuous(expand = c(0.01,0.01))
# co2 tons chronological
ggplot(y, aes(start_date, co2)) +
geom_bar(aes(colour = co2), stat = "identity", show.legend = FALSE) +
labs(title = "Tons of CO² per Dagstuhl Seminar from 2001 to 2019",
x = "Year",
y = "Tons of CO²") +
scale_colour_gradient(low = "white", high = "black") +
geom_smooth(data=y %>% group_by(start_date) %>% summarise(co2=sum(co2)),
aes(x = start_date, y = co2, group=1),
method = "lm", se= FALSE, color = "firebrick1", size = 1) +
scale_y_continuous(expand = c(0.01,0.01))
# co2 tons chronological
ggplot(y, aes(start_date, co2)) +
geom_line(aes(colour = co2), stat = "identity", show.legend = FALSE) +
labs(title = "Tons of CO² per Dagstuhl Seminar from 2001 to 2019",
x = "Year",
y = "Tons of CO²") +
scale_colour_gradient(low = "white", high = "black") +
geom_smooth(data=y %>% group_by(start_date) %>% summarise(co2=sum(co2)),
aes(x = start_date, y = co2, group=1),
method = "lm", se= FALSE, color = "firebrick1", size = 1) +
scale_y_continuous(expand = c(0.01,0.01))
# chronological
ggplot(x, aes(start_date, participants)) +
geom_bar(aes(colour = participants), stat = "identity", show.legend = FALSE) +
labs(title = "# of Participants in Dagstuhl Seminars from 2001 to 2019",
x = "Year",
y = "# of Participants") +
scale_colour_gradient(low = "white", high = "black") +
geom_smooth(data=x %>% group_by(start_date) %>% summarise(participants=sum(participants)),
aes(x = start_date, y = participants, group=1),
method = "lm", se= FALSE, color = "firebrick1", size = 1) +
scale_y_continuous(expand = c(0.01,0.01))
# chronological
ggplot(x, aes(start_date, participants)) +
geom_line(aes(colour = participants), stat = "identity", show.legend = FALSE) +
labs(title = "# of Participants in Dagstuhl Seminars from 2001 to 2019",
x = "Year",
y = "# of Participants") +
scale_colour_gradient(low = "white", high = "black") +
geom_smooth(data=x %>% group_by(start_date) %>% summarise(participants=sum(participants)),
aes(x = start_date, y = participants, group=1),
method = "lm", se= FALSE, color = "firebrick1", size = 1) +
scale_y_continuous(expand = c(0.01,0.01))
